<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å½ˆç æ’åºæŒ‘æˆ° - æ°£æ³¡æ’åº</title>
    <style>
        :root {
            --squid-pink: #ff1493;
            --squid-cyan: #00d9ff;
            --squid-dark: #0a0a0a;
            --squid-green: #00ff41;
            --color-correct: #00ff41;
            --color-wrong: #ff0000;
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--squid-dark);
            color: #fff;
            height: 100vh;
            overflow: hidden;
        }
        .playground-container {
            display: grid;
            grid-template-columns: 350px 1fr 350px;
            height: 100vh;
        }

        /* å…±ç”¨æ¨£å¼ */
        .sidebar, .tasks-panel {
            background: linear-gradient(135deg, #2d1a2d 0%, #1a0a1a 100%);
            border-right: 3px solid var(--squid-pink);
            overflow-y: auto;
            padding: 2rem 1rem;
        }
        .tasks-panel {
            border-right: none;
            border-left: 3px solid var(--squid-pink);
        }
        .tutorial-box, .status-box {
            background: rgba(255, 20, 147, 0.1);
            border: 2px solid var(--squid-pink);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .tasks-panel h3, .tutorial-box h3 {
            color: var(--squid-pink);
            margin-bottom: 1rem;
        }
        .tutorial-box p { line-height: 1.8; color: #ddd; }
        .tutorial-box strong { color: var(--squid-cyan); }
        .back-button {
            position: absolute; top: 1rem; left: 1rem; background: rgba(255, 20, 147, 0.3);
            border: 2px solid var(--squid-pink); color: var(--squid-pink); width: 45px; height: 45px;
            border-radius: 50%; cursor: pointer; font-size: 1.3rem; text-decoration: none;
            display: flex; align-items: center; justify-content: center; z-index: 10; transition: all 0.3s;
        }
        .back-button:hover { background: var(--squid-pink); color: #000; }

        /* ä¸­é–“éŠæˆ²å€ */
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            gap: 2rem;
        }
        .game-header { text-align: center; }
        .game-header h1 { color: var(--squid-cyan); font-size: 2.5rem; }
        .game-header p { color: #aaa; font-size: 1.2rem; }

        .marbles-container {
            display: flex;
            gap: 10px;
            height: 200px; /* å¢åŠ é«˜åº¦ä»¥å®¹ç´å½ˆç  */
            align-items: flex-end;
            border-bottom: 3px solid var(--squid-cyan);
            padding-bottom: 10px;
            min-width: 600px; /* ç¢ºä¿æœ‰è¶³å¤ å¯¬åº¦ */
        }
        .marble {
            width: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #000;
            transition: all 0.3s ease;
            position: relative;
            flex-shrink: 0; /* é˜²æ­¢å½ˆç ç¸®å° */
            height: var(--marble-height); /* ä½¿ç”¨ CSS è®Šæ•¸æ§åˆ¶é«˜åº¦ */
        }
        .marble.comparing {
            background: var(--squid-cyan);
            transform: translateY(-20px);
        }
        .marble.correct {
            background: var(--color-correct);
        }
        .marble.wrong {
            background: var(--color-wrong);
        }
        .marble.sorted {
            background: var(--squid-green);
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        .control-group {
            display: flex;
            gap: 1rem;
        }
        .btn {
            background: var(--squid-pink);
            color: #000;
            border: none;
            padding: 0.8rem 1.5rem;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 150px;
        }
        .btn:hover {
            background: var(--squid-cyan);
            box-shadow: 0 0 15px var(--squid-cyan);
        }
        .btn.active {
            background: var(--squid-green);
            box-shadow: 0 0 20px var(--squid-green);
        }
        .btn:disabled {
            background: #555;
            cursor: not-allowed;
        }
        #action-buttons {
            display: flex;
            gap: 1rem;
        }
        #action-buttons .btn {
            min-width: 120px;
        }
        #action-buttons .btn.swap {
            background: var(--squid-green);
        }
        #action-buttons .btn.swap:hover {
            background: #00e676;
        }
        #action-buttons .btn.no-swap {
            background: var(--squid-pink);
        }
        #action-buttons .btn.no-swap:hover {
            background: #c71585;
        }

        /* å³å´ç‹€æ…‹ */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            text-align: center;
        }
        .stat-item h4 {
            color: var(--squid-cyan);
            margin-bottom: 0.5rem;
        }
        .stat-item p {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .feedback-message {
            font-size: 1.1rem;
            margin-top: 1rem;
            font-weight: bold;
        }
        .feedback-message.correct {
            color: var(--color-correct);
        }
        .feedback-message.wrong {
            color: var(--color-wrong);
        }
    </style>
</head>
<body>
<div class="playground-container">
    <!-- å·¦å´ï¼šæ•™å­¸ -->
    <div class="sidebar">
        <a href="index.html" class="back-button" title="è¿”å›ä¸»é¸å–®">ğŸ </a>
        <div class="tutorial-box" style="margin-top: 4rem;">
            <h3>ğŸ“– éŠæˆ²è¦å‰‡</h3>
            <p><strong>1. é–‹å§‹æ–°çš„æŒ‘æˆ°</strong><br>é»æ“Šã€Œé–‹å§‹æ–°çš„æŒ‘æˆ°ã€æŒ‰éˆ•ï¼Œç”Ÿæˆä¸€çµ„éš¨æ©Ÿå½ˆç ã€‚</p>
            <p><strong>2. è§€å¯Ÿå½ˆç </strong><br>éŠæˆ²æœƒè‡ªå‹•é¸å–å…©å€‹ç›¸é„°çš„å½ˆç é€²è¡Œæ¯”è¼ƒï¼Œä¸¦å°‡å®ƒå€‘é«˜äº®é¡¯ç¤ºã€‚</p>
            <p><strong>3. åšå‡ºåˆ¤æ–·</strong><br>æ ¹æ“šæ°£æ³¡æ’åºçš„è¦å‰‡ï¼Œåˆ¤æ–·é€™å…©å€‹å½ˆç æ˜¯å¦éœ€è¦ã€Œäº¤æ›ã€ä½ç½®ã€‚</p>
            <p><strong>4. é»æ“Šæ“ä½œ</strong><br>å¦‚æœå·¦é‚Šçš„å½ˆç æ¯”å³é‚Šçš„å¤§ï¼Œè«‹é»æ“Šã€Œäº¤æ›ã€ï¼›å¦å‰‡ï¼Œé»æ“Šã€Œä¸äº¤æ›ã€ã€‚</p>
            <p><strong>5. å®Œæˆæ’åº</strong><br>é‡è¤‡æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰å½ˆç éƒ½æŒ‰ç…§å¾å°åˆ°å¤§çš„é †åºæ’åˆ—å®Œæˆï¼</p>
        </div>
        <div class="tutorial-box">
            <h3>ğŸ’¡ å­¸ç¿’é‡é»: æ°£æ³¡æ’åº (Bubble Sort)</h3>
            <p>é€™å€‹éŠæˆ²å°‡å¸¶æ‚¨è¦ªèº«é«”é©—æœ€åŸºç¤çš„æ’åºæ¼”ç®—æ³•ä¹‹ä¸€ï¼š<strong>æ°£æ³¡æ’åº</strong>ã€‚</p>
            <hr style="border-color: rgba(255, 20, 147, 0.2); margin: 1rem 0;">

            <h4>æ ¸å¿ƒæ€æƒ³</h4>
            <p>æ°£æ³¡æ’åºå°±åƒæ°´ä¸­çš„æ°£æ³¡ä¸€æ¨£ï¼Œè¼ƒã€Œé‡ã€ï¼ˆæ•¸å€¼è¼ƒå¤§ï¼‰çš„å…ƒç´ æœƒæ…¢æ…¢ã€Œä¸‹æ²‰ã€åˆ°æ•¸åˆ—çš„æœ«ç«¯ï¼Œè€Œè¼ƒã€Œè¼•ã€ï¼ˆæ•¸å€¼è¼ƒå°ï¼‰çš„å…ƒç´ å‰‡æœƒã€Œæµ®ã€åˆ°æ•¸åˆ—çš„å‰ç«¯ã€‚</p>
            <p>å®ƒæœƒé‡è¤‡åœ°èµ°è¨ªæ•´å€‹æ•¸åˆ—ï¼Œæ¯æ¬¡æ¯”è¼ƒå…©å€‹ç›¸é„°çš„å…ƒç´ ã€‚å¦‚æœå®ƒå€‘çš„é †åºä¸æ­£ç¢ºï¼ˆä¾‹å¦‚ï¼Œå·¦é‚Šçš„æ¯”å³é‚Šçš„å¤§ï¼‰ï¼Œå°±å°‡å®ƒå€‘äº¤æ›ä½ç½®ã€‚</p>
            <hr style="border-color: rgba(255, 20, 147, 0.2); margin: 1rem 0;">

            <h4>é‹ä½œæ­¥é©Ÿ</h4>
            <p>1. å¾æ•¸åˆ—çš„ç¬¬ä¸€å°ç›¸é„°å…ƒç´ é–‹å§‹ï¼Œæ¯”è¼ƒå®ƒå€‘çš„å¤§å°ã€‚</p>
            <p>2. å¦‚æœå·¦é‚Šçš„å…ƒç´ æ¯”å³é‚Šçš„å¤§ï¼Œå°±äº¤æ›å®ƒå€‘çš„ä½ç½®ã€‚</p>
            <p>3. ç¹¼çºŒæ¯”è¼ƒä¸‹ä¸€å°ç›¸é„°å…ƒç´ ï¼Œç›´åˆ°æ•¸åˆ—çš„æœ«å°¾ã€‚</p>
            <p>4. é€™æ¨£ä¸€è¼ªä¸‹ä¾†ï¼Œæœ€å¤§çš„å…ƒç´ å°±æœƒè¢«ã€Œå†’æ³¡ã€åˆ°æ•¸åˆ—çš„æœ€å¾Œä¸€å€‹ä½ç½®ã€‚</p>
            <p>5. é‡è¤‡ä»¥ä¸Šæ­¥é©Ÿï¼Œä½†æ¯æ¬¡éƒ½æ¸›å°‘æ¯”è¼ƒç¯„åœï¼ˆå› ç‚ºæœ€å¾Œçš„å…ƒç´ å·²ç¶“æ’å¥½ï¼‰ï¼Œç›´åˆ°æ•´å€‹æ•¸åˆ—æ’åºå®Œæˆã€‚</p>
            <hr style="border-color: rgba(255, 20, 147, 0.2); margin: 1rem 0;">

            <h4>éŠæˆ²ä¸­è§€å¯Ÿé‡é»</h4>
            <p>â€¢ <strong>æ¯”è¼ƒèˆ‡äº¤æ›</strong>ï¼šæ³¨æ„æ¯æ¬¡é«˜äº®é¡¯ç¤ºçš„å…©å€‹å½ˆç ï¼Œåˆ¤æ–·æ˜¯å¦éœ€è¦äº¤æ›ã€‚é€™å°±æ˜¯æ°£æ³¡æ’åºçš„æ ¸å¿ƒæ“ä½œã€‚</p>
            <p>â€¢ <strong>æ•ˆç‡</strong>ï¼šè§€å¯Ÿæ‚¨éœ€è¦é€²è¡Œå¤šå°‘æ¬¡ã€Œæ¯”è¼ƒã€å’Œã€Œäº¤æ›ã€æ‰èƒ½å®Œæˆæ’åºã€‚æ°£æ³¡æ’åºé€šå¸¸æ•ˆç‡è¼ƒä½ï¼Œä½†å…¶ç°¡å–®æ€§ä½¿å…¶æˆç‚ºå­¸ç¿’æ’åºæ¼”ç®—æ³•çš„çµ•ä½³èµ·é»ã€‚</p>
            <hr style="border-color: rgba(255, 20, 147, 0.2); margin: 1rem 0;">

            <p><strong>æ•ˆç‡æŒ‡æ¨™ï¼š</strong></p>
            <p><strong>æ¯”è¼ƒæ¬¡æ•¸ (Comparisons)</strong>: æ‚¨åˆ¤æ–·äº†å¤šå°‘æ¬¡å½ˆç çš„å¤§å°é—œä¿‚ã€‚</p>
            <p><strong>äº¤æ›æ¬¡æ•¸ (Swaps)</strong>: æ‚¨åŸ·è¡Œäº†å¤šå°‘æ¬¡å½ˆç ä½ç½®çš„äº¤æ›æ“ä½œã€‚</p>
        </div>
    </div>

    <!-- ä¸­é–“ï¼šéŠæˆ²å€ -->
    <div class="game-area">
        <div class="game-header">
            <h1>å½ˆç æ’åºæŒ‘æˆ°</h1>
            <p>è¦ªæ‰‹æ“ä½œæ°£æ³¡æ’åºï¼Œç†è§£æ¼”ç®—æ³•çš„å¥§ç§˜ï¼</p>
        </div>
        <div id="marbles-container" class="marbles-container"></div>
        <div class="controls">
            <button id="start-new-challenge-btn" class="btn">é–‹å§‹æ–°çš„æŒ‘æˆ°</button>
            <div id="action-buttons" class="control-group" style="display: none;">
                <button id="swap-btn" class="btn swap">äº¤æ›</button>
                <button id="no-swap-btn" class="btn no-swap">ä¸äº¤æ›</button>
            </div>
            <div id="feedback-message" class="feedback-message"></div>
        </div>
    </div>

    <!-- å³å´ï¼šç‹€æ…‹ -->
    <div class="tasks-panel">
        <div class="status-box">
            <h3>ğŸ“Š æ’åºç‹€æ…‹</h3>
            <div id="game-status"><p>é»æ“Šã€Œé–‹å§‹æ–°çš„æŒ‘æˆ°ã€</p></div>
        </div>
        <div class="status-box">
            <h3>ğŸ“ˆ æ•¸æ“šçµ±è¨ˆ</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <h4>æ¯”è¼ƒæ¬¡æ•¸</h4>
                    <p id="comparisons">0</p>
                </div>
                <div class="stat-item">
                    <h4>äº¤æ›æ¬¡æ•¸</h4>
                    <p id="swaps">0</p>
                </div>
                <div class="stat-item">
                    <h4>æ­£ç¢ºæ“ä½œ</h4>
                    <p id="correct-actions">0</p>
                </div>
                <div class="stat-item">
                    <h4>éŒ¯èª¤æ“ä½œ</h4>
                    <p id="wrong-actions">0</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const marblesContainer = document.getElementById('marbles-container');
    const startNewChallengeBtn = document.getElementById('start-new-challenge-btn');
    const swapBtn = document.getElementById('swap-btn');
    const noSwapBtn = document.getElementById('no-swap-btn');
    const actionButtonsDiv = document.getElementById('action-buttons');
    const gameStatus = document.getElementById('game-status');
    const comparisonsDisplay = document.getElementById('comparisons');
    const swapsDisplay = document.getElementById('swaps');
    const correctActionsDisplay = document.getElementById('correct-actions');
    const wrongActionsDisplay = document.getElementById('wrong-actions');
    const feedbackMessage = document.getElementById('feedback-message');

    let currentMarblesData = []; // å„²å­˜å½ˆç çš„åŸå§‹æ•¸å€¼
    let marblesElements = []; // å„²å­˜ DOM å…ƒç´ 
    let isGameActive = false;
    let i = 0; // å¤–å±¤å¾ªç’°ç´¢å¼•
    let j = 0; // å…§å±¤å¾ªç’°ç´¢å¼•
    let comparisons = 0;
    let swaps = 0;
    let correctActions = 0;
    let wrongActions = 0;

    const DELAY = 300; // ms, èª¿æ•´å‹•ç•«é€Ÿåº¦

    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    function generateNewMarblesData() {
        currentMarblesData = [];
        for (let k = 0; k < 10; k++) {
            const value = Math.floor(Math.random() * 90) + 10;
            currentMarblesData.push(value);
        }
    }

    function renderMarbles(data) {
        marblesContainer.innerHTML = '';
        marblesElements = [];
        data.forEach(value => {
            const marbleEl = document.createElement('div');
            marbleEl.className = 'marble';
            marbleEl.textContent = value;
            marbleEl.style.setProperty('--marble-height', `${value}px`); // ä½¿ç”¨ CSS è®Šæ•¸è¨­å®šé«˜åº¦
            marblesContainer.appendChild(marbleEl);
            marblesElements.push(marbleEl);
        });
    }

    function resetStats() {
        comparisons = 0;
        swaps = 0;
        correctActions = 0;
        wrongActions = 0;
        updateStatsDisplay();
    }

    function updateStatsDisplay() {
        comparisonsDisplay.textContent = comparisons;
        swapsDisplay.textContent = swaps;
        correctActionsDisplay.textContent = correctActions;
        wrongActionsDisplay.textContent = wrongActions;
    }

    function setButtonsDisabled(disabled) {
        startNewChallengeBtn.disabled = disabled;
        swapBtn.disabled = disabled;
        noSwapBtn.disabled = disabled;
    }

    async function startGame() {
        isGameActive = true;
        setButtonsDisabled(true);
        startNewChallengeBtn.style.display = 'none';
        actionButtonsDiv.style.display = 'flex';
        feedbackMessage.textContent = '';

        generateNewMarblesData();
        renderMarbles(currentMarblesData);
        resetStats();

        i = 0;
        j = 0;
        gameStatus.innerHTML = '<p style="color: var(--squid-green);">éŠæˆ²é–‹å§‹ï¼</p>';
        await sleep(DELAY * 2);
        nextComparison();
    }

    async function nextComparison() {
        if (!isGameActive) return;

        // ç§»é™¤æ‰€æœ‰é«˜äº®
        marblesElements.forEach(el => el.classList.remove('comparing', 'correct', 'wrong'));
        feedbackMessage.textContent = '';

        // æª¢æŸ¥æ˜¯å¦æ’åºå®Œæˆ
        if (i >= marblesElements.length - 1) {
            // æª¢æŸ¥æ˜¯å¦çœŸçš„æ’åºå®Œæˆ
            let sorted = true;
            for (let k = 0; k < marblesElements.length - 1; k++) {
                if (parseInt(marblesElements[k].textContent) > parseInt(marblesElements[k + 1].textContent)) {
                    sorted = false;
                    break;
                }
            }

            if (sorted) {
                marblesElements.forEach(el => el.classList.add('sorted'));
                gameStatus.innerHTML = '<p style="color: var(--squid-green);">æ­å–œï¼å½ˆç å·²å…¨éƒ¨æ’åºå®Œæˆï¼</p>';
                endGame();
                return;
            } else {
                // å¦‚æœå¤–å±¤å¾ªç’°çµæŸä½†æœªæ’åºå®Œæˆï¼Œé‡ç½®å…§å±¤å¾ªç’°
                i = 0;
                j = 0;
                // ç§»é™¤æ‰€æœ‰ sorted æ¨™è¨˜ï¼Œå› ç‚ºå¯èƒ½éœ€è¦é‡æ–°æª¢æŸ¥
                marblesElements.forEach(el => el.classList.remove('sorted'));
                // ç¹¼çºŒä¸‹ä¸€è¼ªå¤–å±¤å¾ªç’°
            }
        }

        // æª¢æŸ¥å…§å±¤å¾ªç’°æ˜¯å¦çµæŸ
        if (j >= marblesElements.length - 1 - i) {
            marblesElements[marblesElements.length - 1 - i].classList.add('sorted'); // å°‡æœ¬è¼ªæœ€å¤§å€¼æ¨™è¨˜ç‚ºå·²æ’åº
            i++;
            j = 0;
            await sleep(DELAY * 2); // ç­‰å¾…ä¸€ä¸‹ï¼Œè®“ç©å®¶çœ‹åˆ°å·²æ’åºçš„å½ˆç 
            if (i >= marblesElements.length - 1) { // å†æ¬¡æª¢æŸ¥æ˜¯å¦å…¨éƒ¨æ’åºå®Œæˆ
                nextComparison(); // é€²å…¥æœ€çµ‚æª¢æŸ¥
                return;
            }
        }
        
        // é«˜äº®ç•¶å‰æ¯”è¼ƒå½ˆç 
        marblesElements[j].classList.add('comparing');
        marblesElements[j + 1].classList.add('comparing');
        comparisons++;
        updateStatsDisplay();

        gameStatus.innerHTML = `<p>å½ˆç  ${marblesElements[j].textContent} å’Œ ${marblesElements[j + 1].textContent}ï¼Œéœ€è¦äº¤æ›å—ï¼Ÿ</p>`;
        setButtonsDisabled(false); // å•Ÿç”¨ç©å®¶æ“ä½œæŒ‰éˆ•
    }

    async function processUserAction(action) {
        if (!isGameActive) return;

        setButtonsDisabled(true); // ç¦ç”¨æŒ‰éˆ•ï¼Œç­‰å¾…è™•ç†
        const val1 = parseInt(marblesElements[j].textContent);
        const val2 = parseInt(marblesElements[j + 1].textContent);
        const shouldSwap = (val1 > val2);

        let isCorrect = false;

        if (action === 'swap') {
            if (shouldSwap) {
                isCorrect = true;
                swaps++;
                await swap(marblesElements[j], marblesElements[j + 1]);
                // DOM å…ƒç´ é †åºæ”¹è®Šå¾Œï¼Œéœ€è¦é‡æ–°ç²å–å¼•ç”¨
                marblesElements = Array.from(marblesContainer.children);
                feedbackMessage.textContent = 'æ­£ç¢ºï¼å·²äº¤æ›ã€‚';
                feedbackMessage.className = 'feedback-message correct';
            } else {
                feedbackMessage.textContent = 'éŒ¯èª¤ï¼ä¸æ‡‰è©²äº¤æ›ã€‚';
                feedbackMessage.className = 'feedback-message wrong';
            }
        } else { // action === 'no-swap'
            if (!shouldSwap) {
                isCorrect = true;
                feedbackMessage.textContent = 'æ­£ç¢ºï¼ç„¡éœ€äº¤æ›ã€‚';
                feedbackMessage.className = 'feedback-message correct';
            } else {
                feedbackMessage.textContent = 'éŒ¯èª¤ï¼æ‡‰è©²äº¤æ›ã€‚';
                feedbackMessage.className = 'feedback-message wrong';
            }
        }

        if (isCorrect) {
            correctActions++;
        } else {
            wrongActions++;
        }
        updateStatsDisplay();
        await sleep(DELAY * 2); // é¡¯ç¤ºåé¥‹

        j++;
        nextComparison();
    }

    async function swap(el1, el2) {
        const rect1 = el1.getBoundingClientRect();
        const rect2 = el2.getBoundingClientRect();
        const x1 = rect2.left - rect1.left;
        const x2 = rect1.left - rect2.left;

        el1.style.transform = `translateX(${x1}px)`;
        el2.style.transform = `translateX(${x2}px)`;

        await sleep(DELAY);

        el1.style.transform = '';
        el2.style.transform = '';
        
        const parent = el1.parentNode;
        const nextEl2 = el2.nextSibling;
        parent.insertBefore(el2, el1);
        parent.insertBefore(el1, nextEl2);
    }

    function endGame() {
        isGameActive = false;
        setButtonsDisabled(true);
        actionButtonsDiv.style.display = 'none';
        startNewChallengeBtn.style.display = 'block';
        startNewChallengeBtn.textContent = 'é‡æ–°é–‹å§‹æŒ‘æˆ°';
    }

    startNewChallengeBtn.addEventListener('click', startGame);
    swapBtn.addEventListener('click', () => processUserAction('swap'));
    noSwapBtn.addEventListener('click', () => processUserAction('no-swap'));

    // Initial state
    gameStatus.innerHTML = '<p>é»æ“Šã€Œé–‹å§‹æ–°çš„æŒ‘æˆ°ã€</p>';
    updateStatsDisplay();
    setButtonsDisabled(true); // åˆå§‹ç¦ç”¨æ“ä½œæŒ‰éˆ•
    startNewChallengeBtn.disabled = false; // å•Ÿç”¨é–‹å§‹æŒ‰éˆ•
</script>
</body>
</html>